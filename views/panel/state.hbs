<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="CampusTD">
    <meta name="description"
        content="Bolsa de Trabajo dedicada a egresados de la Universidad Autonoma de Tamaulipas con el objetivo de posicionarse en una empresa.">
    <meta name="keywords" content="Bolsa de Trabajo, UAT, Universidad Autonoma de Tamaulipas, Egresados, Empleo, Trabajo, Posicionarse, Empresa, empleo, trabajo, 
    tamaulipas, tampico, madero, altamira, mexico, ciudad de mexico, universitario, universidad, trabajar">
    <title>Bolsa de empleo - Estados</title>
    {{> HeaderStyles}}
</head>

<body class="w-full h-full bg-white dark:bg-[#121212]">
    {{> Header}}

    <div class="px-6 py-4 absolute top-14 w-full my-4">
        <div class="bg-white dark:bg-[#1E1E1E] pb-4 px-4 rounded-md w-full">
            <div class="flex flex-row justify-between w-full pt-4">
                <p class="ml-3 text-black dark:text-white"> Tabla de Estados</p>
                <button type="button" id="btnNuevoEstado" onclick="toggleModal('modal-1')" class="bg-blue-400 rounded px-4 py-2 text-sm mb-4">Agregar nuevo Estado</button>
            </div>
            <div class="w-full flex justify-start px-2 mt-2">
                <div class="w-full sm:w-64 inline-block relative ">
                    <input type="text" name="" id="txtBuscarEstado" class="leading-snug border bg-white dark:bg-[#1E1E1E] border-gray-300 block w-full appearance-none text-sm text-gray-600 dark:text-white py-1 px-4 pl-8 rounded-lg" placeholder="Buscar"/>
                    <div class="pointer-events-none absolute pl-3 inset-y-0 left-0 flex items-center px-2 text-gray-300">
                        <svg class="fill-current h-3 w-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.999 511.999">
                            <path d="M508.874 478.708L360.142 329.976c28.21-34.827 45.191-79.103 45.191-127.309C405.333 90.917 314.416 0 202.666 0S0 90.917 0 202.667s90.917 202.667 202.667 202.667c48.206 0 92.482-16.982 127.309-45.191l148.732 148.732c4.167 4.165 10.919 4.165 15.086 0l15.081-15.082c4.165-4.166 4.165-10.92-.001-15.085zM202.667 362.667c-88.229 0-160-71.771-160-160s71.771-160 160-160 160 71.771 160 160-71.771 160-160 160z" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="overflow-x-auto mt-6">
                <table class="table-auto border-collapse w-full text-black dark:text-white">
                    <thead>
                        <tr class="rounded-lg text-sm font-medium text-gray-700 text-left bg-[#F8F8F8] dark:bg-[#2E2E2E] dark:text-white" style="font-size: 0.9674rem">
                            <th class="px-4 py-2">Id</th>
                            <th class="px-4 py-2">Nombre del Estado</th>
                            <th class="px-4 py-2 text-center">Acciones</th>
                        </tr>
                    </thead>
                    <tbody class="text-sm font-normal text-gray-700 dark:text-white">
                        {{#if states}}
                            {{#each states}}
                                <tr class="hover:bg-gray-400 border-b border-gray-200 py-10 dark:hover:bg-zinc-800">
                                    <td class="px-4 py-4">{{ID_ST}}</td>
                                    <td class="px-4 py-4">{{NAME_ST}}</td>
                                    <td class="px-4 py-4 text-center">
                                        <button type="button" id="btnEdit" onclick="loadData({{ID_ST}})" class="bg-blue-400 rounded px-4 py-2 text-sm mb-4">Editar</button>
                                        <button type="button" id="btnDelete" onclick="deleteState({{ID_ST}})" class="bg-red-400 rounded px-4 py-2 text-sm mb-4">Eliminar</button>
                                    </td>
                                </tr>
                            {{/each}}
                        {{else}}
                            <tr class="hover:bg-gray-400 border-b border-gray-200 py-10 dark:hover:bg-zinc-800">
                                <td class="px-4 py-4 text-center text-lg text-slate-500" colspan="4">No hay registros disponibles</td>
                            </tr>
                        {{/if}}
                    </tbody>
                </table>
            </div>

            <div id="pagination" class="w-full flex justify-center border-t border-gray-100 pt-4 items-center">

                <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g opacity="0.4">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7072C13.6834 17.0977 14.3166 17.0977 14.7071 16.7072C15.0977 16.3167 15.0977 15.6835 14.7071 15.293L11.4142 12L14.7071 8.70712C15.0977 8.31659 15.0977 7.68343 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"
                            fill="#2C2C2C" />
                    </g>
                </svg>

                <p class="leading-relaxed cursor-pointer mx-2 text-blue-600 hover:text-blue-600 text-sm">1</p>
                <p class="leading-relaxed cursor-pointer mx-2 text-sm hover:text-blue-600">2</p>
                <p class="leading-relaxed cursor-pointer mx-2 text-sm hover:text-blue-600"> 3 </p>
                <p class="leading-relaxed cursor-pointer mx-2 text-sm hover:text-blue-600"> 4 </p>
                <svg class="h-6 w-6" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M15 12C15 11.7348 14.8946 11.4804 14.7071 11.2929L10.7071 7.2929C10.3166 6.9024 9.6834 6.9024 9.2929 7.2929C8.9024 7.6834 8.9024 8.3166 9.2929 8.7071L12.5858 12L9.2929 15.2929C8.9024 15.6834 8.9024 16.3166 9.2929 16.7071C9.6834 17.0976 10.3166 17.0976 10.7071 16.7071L14.7071 12.7071C14.8946 12.5196 15 12.2652 15 12Z"
                        fill="#18A0FB" />
                </svg>
            </div>
        </div>

        <style>
            thead tr th:first-child {
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px;
            }

            thead tr th:last-child {
                border-top-right-radius: 10px;
                border-bottom-right-radius: 10px;
            }

            tbody tr td:first-child {
                border-top-left-radius: 5px;
                border-bottom-left-radius: 0px;
            }

            tbody tr td:last-child {
                border-top-right-radius: 5px;
                border-bottom-right-radius: 0px;
            }
        </style>
    </div>

    {{!-- Modal de agregar nuevo estado --}}
    <div class="hidden overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center"
        id="modal-1">
        <div class="relative w-auto my-6 mx-auto max-w-3xl">
            <!--content-->
            <div
                class="border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none">
                <!--header-->
                <div class="flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t">
                    <h3 class="text-3xl font-semibold">
                        Agregar nuevo Estado
                    </h3>
                    <button
                        class="p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none"
                        onclick="toggleModal('modal-1')">
                        <span
                            class="bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none">
                            ×
                        </span>
                    </button>
                </div>
                <!--body-->
                <form id="formNewState">
                    <div class="relative p-6 flex-auto flex flex-col">
                        <div class="flex flex-row">
                            <div class="group relative w-full py-6">
                                <label for="txtNameState"
                                    class="block w-full pb-1 text-sm font-medium text-gray-500 transition-all duration-200 ease-in-out group-focus-within:text-blue-400">Nuevo Estado</label>
                                <input id="txtNameState" name="txtNameState" type="text"
                                    class="peer h-10 w-full rounded-md bg-gray-100 px-4 font-thin outline-none drop-shadow-sm transition-all duration-200 ease-in-out focus:bg-white focus:ring-2 focus:ring-blue-400"
                                    placeholder="Ingrese el nuevo Estado"
                                    autocomplete="off"/>
                                <span
                                    class="absolute block pt-1 text-xs font-semibold text-gray-500 opacity-0 transition-all duration-200 ease-in-out group-focus-within:opacity-100">Formato
                                    de ejemplo: Aguascalientes, Baja California, Baja California Sur, etc.
                                </span>
                            </div>
                        </div>
                    </div>
                    <!--footer-->
                    <div class="flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b">
                        <button
                            class="text-red-500 border border-red-500 background-transparent font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                            type="button" onclick="toggleModal('modal-1')">
                            Cancelar Cambios
                        </button>
                        <button id="btnSaveState"
                            class="bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                            type="submit">
                            Guardar Cambios
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="hidden opacity-25 fixed inset-0 z-40 bg-black" id="modal-1-backdrop"></div>
    {{!-- Fin modal agregar estado --}}

    {{!-- Modal editar estado --}}
    <div class="hidden overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center"
        id="modal-2">
        <div class="relative w-auto my-6 mx-auto max-w-3xl">
            <!--content-->
            <div
                class="border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none">
                <!--header-->
                <div class="flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t">
                    <h3 class="text-3xl font-semibold">
                        Editar Estado
                    </h3>
                    <button
                        class="p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none"
                        onclick="toggleModal('modal-2')">
                        <span
                            class="bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none">
                            ×
                        </span>
                    </button>
                </div>
                <!--body-->
                <form id="formEditEstate">
                    <div class="relative p-6 flex-auto flex flex-col">
                        <div class="flex flex-row">
                            <div class="group relative w-full py-6">
                                <label for="txtEditEstate"
                                    class="block w-full pb-1 text-sm font-medium text-gray-500 transition-all duration-200 ease-in-out group-focus-within:text-blue-400">Editar Estado</label>
                                <input id="txtEditState" name="txtEditState" type="text"
                                    class="peer h-10 w-full rounded-md bg-gray-100 px-4 font-thin outline-none drop-shadow-sm transition-all duration-200 ease-in-out focus:bg-white focus:ring-2 focus:ring-blue-400"
                                    placeholder="Ingrese el Estado"
                                    autocomplete="off"/>
                                <span
                                    class="absolute block pt-1 text-xs font-semibold text-gray-500 opacity-0 transition-all duration-200 ease-in-out group-focus-within:opacity-100">Formato
                                    de ejemplo: Aguascalientes, Baja California, Baja California Sur, etc.
                                </span>
                            </div>
                        </div>
                    </div>
                    <!--footer-->
                    <div class="flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b">
                        <button
                            class="text-red-500 border border-red-500 background-transparent font-bold uppercase px-6 py-3 rounded text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                            type="button" onclick="toggleModal('modal-2')">
                            Cancelar Cambios
                        </button>
                        <button id="btnEditState"
                            class="bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                            type="submit">
                            Guardar Cambios
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="hidden opacity-25 fixed inset-0 z-40 bg-black" id="modal-2-backdrop"></div>
    {{!-- Fin modal editar estado --}}

    <script type="text/javascript">
        function toggleModal(modalID) {
            document.getElementById(modalID).classList.toggle("hidden");
            document.getElementById(modalID + "-backdrop").classList.toggle("hidden");
            document.getElementById(modalID).classList.toggle("flex");
            document.getElementById(modalID + "-backdrop").classList.toggle("flex");
        }
    </script>

    {{> VendorScripts}}
    <script src="/js/app/states/index.js"></script>
</body>

</html>